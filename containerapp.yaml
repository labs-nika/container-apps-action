name: my-container-app
type: Microsoft.App/containerApps
location: eastus
properties:
  environmentId: /subscriptions/25cc9009-2580-4987-936c-95aaab093023/resourceGroups/acadev/providers/Microsoft.App/managedEnvironments/academoenv
  configuration:
    ingress:
      external: true
      targetPort: 8080
      transport: auto
    registries:
      - server: <ACR_LOGIN_SERVER>
        username: <ACR_USERNAME>
        passwordSecretRef: acr-pwd
  template:
    containers:
      - name: sample-container
        image: <ACR_LOGIN_SERVER>/<IMAGE_NAME>:<TAG>
        resources:
          cpu: 0.5
          memory: 1.0Gi
    scale:
      minReplicas: 1
      maxReplicas: 5
      rules:
        - name: http-scaling
          http:
            concurrentRequests: 50
secrets:
  - name: acr-pwd
    value: <ACR_PASSWORD>